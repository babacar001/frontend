<div class="teacher-classes">
  <div class="header">
    <h2>Mes Classes et Élèves</h2>
    <p>Consultez la liste de vos élèves</p>
  </div>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
  </div>

  <mat-card *ngIf="!loading">
    <mat-card-content>
      <div *ngIf="students.length === 0" class="no-data">
        <mat-icon>school</mat-icon>
        <h3>Aucun élève trouvé</h3>
        <p>Aucun élève n'est assigné à vos classes pour le moment.</p>
      </div>

      <div *ngIf="students.length > 0" class="students-grid">
        <mat-card *ngFor="let student of students" class="student-card">
          <mat-card-header>
            <div mat-card-avatar class="student-avatar">
              <mat-icon>person</mat-icon>
            </div>
            <mat-card-title>{{ student.user.name }}</mat-card-title>
            <mat-card-subtitle>{{ student.classe.name }}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="student-info">
              <p><strong>N° Étudiant:</strong> {{ student.student_number }}</p>
              <p><strong>Email:</strong> {{ student.user.email }}</p>
              <p><strong>Parent:</strong> {{ student.parent.user.name }}</p>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button color="primary" [routerLink]="['/admin/grades']" [queryParams]="{student_id: student.id}">
              Voir les Notes
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </mat-card-content>
  </mat-card>
</div>